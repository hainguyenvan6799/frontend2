{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects_User\\\\lucky\\\\full_project\\\\frontend\\\\src\\\\components\\\\page\\\\Admin\\\\AdminOnly.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { BrowserRouter as Router, Link, Route, Switch, useHistory } from 'react-router-dom';\nimport DanhSachLopHoc from './LopHoc/DanhSachLopHoc';\nimport DanhSachNguoiDung from './Users/DanhSachNguoiDung_1';\nimport ThemNguoiDung from './Users/ThemNguoiDung';\nimport ChinhSuaNguoiDung from './Users/ChinhSuaNguoiDung';\nimport Header from '../../basic_components/Header';\nimport Footer from '../../basic_components/Footer';\nimport axios from 'axios';\nimport XinChaoAdmin from './Users/XinChaoAdmin';\nimport PhanQuyen from './PhanQuyen/index';\nimport VaiTro from './QuanLyVaiTro/index';\nimport TaiNguyen from './QuanLyTaiNguyen';\nimport VaiTroTaiNguyen from './VaiTroTaiNguyen';\nimport { createBrowserHistory } from 'history';\nimport ImportUsersForm from '../../import_users/ImportUsersForm';\nimport Index from './LopHoc/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const history = createBrowserHistory();\nexport const allClasses = async () => {\n  try {\n    const result = await axios.get('/api/get-all-classes'); // return result.data;\n\n    return result;\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const buttonStyle = {\n  border: 'none',\n  cursor: 'pointer',\n  background: 'none',\n  color: 'green',\n  textDecoration: 'underline'\n};\nexport const CryptoJS = require(\"crypto-js\");\n\nrequire('dotenv').config();\n\nexport const CryptoJSAesJson = {\n  /**\r\n   * Encrypt any value\r\n   * @param {*} value\r\n   * @param {string} password\r\n   * @return {string}\r\n   */\n  'encrypt': function (value, password) {\n    return CryptoJS.AES.encrypt(JSON.stringify(value), password, {\n      format: CryptoJSAesJson\n    }).toString();\n  },\n\n  /**\r\n   * Decrypt a previously encrypted value\r\n   * @param {string} jsonStr\r\n   * @param {string} password\r\n   * @return {*}\r\n   */\n  'decrypt': function (jsonStr, password) {\n    return JSON.parse(CryptoJS.AES.decrypt(jsonStr, password, {\n      format: CryptoJSAesJson\n    }).toString(CryptoJS.enc.Utf8));\n  },\n\n  /**\r\n   * Stringify cryptojs data\r\n   * @param {Object} cipherParams\r\n   * @return {string}\r\n   */\n  'stringify': function (cipherParams) {\n    var j = {\n      ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64)\n    };\n    if (cipherParams.iv) j.iv = cipherParams.iv.toString();\n    if (cipherParams.salt) j.s = cipherParams.salt.toString();\n    return JSON.stringify(j).replace(/\\s/g, '');\n  },\n\n  /**\r\n   * Parse cryptojs data\r\n   * @param {string} jsonStr\r\n   * @return {*}\r\n   */\n  'parse': function (jsonStr) {\n    var j = JSON.parse(jsonStr);\n    var cipherParams = CryptoJS.lib.CipherParams.create({\n      ciphertext: CryptoJS.enc.Base64.parse(j.ct)\n    });\n    if (j.iv) cipherParams.iv = CryptoJS.enc.Hex.parse(j.iv);\n    if (j.s) cipherParams.salt = CryptoJS.enc.Hex.parse(j.s);\n    return cipherParams;\n  }\n};\nexport const key = process.env.REACT_APP_KeyAdminOnly;\nexport const mahoadulieu_postform = value => {\n  return CryptoJSAesJson.encrypt(value, key);\n};\nexport const giaimadulieu = value => {\n  return CryptoJSAesJson.decrypt(value, key);\n};\n\nfunction AdminOnly(props) {\n  _s();\n\n  const {\n    path,\n    component\n  } = props; // const [allClasses, setAllClasses] = React.useState([]);\n  // const [users_roles, setUsersRoles] = React.useState([]);\n\n  const [users, setUsers] = React.useState([]);\n  const [paginationInfo, setPaginationInfo] = React.useState({\n    activePage: 1,\n    itemsCountPerPage: 1,\n    totalItemsCount: 1,\n    pageRangeDisplayed: 3\n  });\n  const history = useHistory();\n  const [condition, setCondition] = React.useState({\n    type: \"\",\n    value: \"\"\n  });\n  const isMountedVal = React.useRef(1); // Lấy thông tin từ bảng users_roles\n  // const get_roles_users = async () => {\n  //     const result = await axios.get('/api/get-all-users-roles');\n  //     if(result.data.status === true) {\n  //         setUsersRoles([...result.data.data]);\n  //     }\n  // }\n\n  const get_all_users = () => {\n    axios.get('/api/get-all-users').then(res => {\n      const users = res.data.users.data;\n      const filterUsers = users.filter(item => {\n        if (condition.type === \"\") {\n          setPaginationInfo({ ...paginationInfo,\n            activePage: res.data.users.current_page,\n            itemsCountPerPage: res.data.users.per_page,\n            totalItemsCount: res.data.users.total\n          });\n          return item.name !== \"\";\n        } else {\n          if (condition.type === \"followClass\") {\n            return item.malop === condition.value;\n          }\n        }\n      });\n      setUsers([...filterUsers]);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const updateState = callback => {\n    if (isMountedVal.current === 1) {\n      callback();\n    }\n  };\n\n  React.useEffect(() => {\n    // updateState(get_roles_users);\n    updateState(get_all_users);\n    isMountedVal.current = 0;\n    return () => {\n      isMountedVal.current = 0;\n    };\n  }, [isMountedVal]); // action for danh sách người dùng\n\n  const handleClick = e => {\n    e.preventDefault();\n    history.push({\n      pathname: '/admin/classes',\n      state: e.target.value\n    });\n  };\n\n  const handleEdit = e => {\n    e.preventDefault();\n    const valueString = e.target.value; // const valueObject = JSON.parse(valueString);\n\n    history.push({\n      pathname: '/admin/edit-user',\n      state: valueString\n    });\n  };\n\n  const handleDelete = e => {\n    e.preventDefault();\n    const data_encode = mahoadulieu_postform(e.target.value);\n    axios({\n      url: '/api/delete-user',\n      method: 'post',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      data: {\n        mauser: data_encode\n      }\n    }).then(res => console.log(res)).catch(err => console.log(err)); // axios.post('/api/delete-user', data).then(res => {\n    //     console.log(res)\n    //     // if(res.data.status === true)\n    //     // {\n    //     //     alert(res.data.message)\n    //     // }\n    //     // else\n    //     // {\n    //     //     alert(res.data.message)\n    //     // }\n    // }).catch(err => {\n    //     console.log(err)\n    // })\n  };\n\n  const handlePageChange = pageNumber => {\n    axios.get('/api/get-all-users?page=' + pageNumber).then(res => {\n      const users = res.data.users.data; // setUsers((old_arr_users) => [...old_arr_users, ...users]);\n\n      setUsers([...users]);\n      setPaginationInfo({ ...paginationInfo,\n        activePage: res.data.users.current_page,\n        itemsCountPerPage: res.data.users.per_page,\n        totalItemsCount: res.data.users.total\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleActive = event => {\n    console.log(event.target.name); // event.preventDefault();\n    // let nameClicked = event.target.name;\n    // let idClicked = document.getElementById(nameClicked);\n    // // clear all class\n    // let classCLicked = document.getElementsByClassName(\"linkcustom\");\n    // for(let i = 0; i < classCLicked.length; i++)\n    // {\n    //     classCLicked[i].className = \"linkcustom nav-link\";\n    // }\n    // idClicked.className = \"linkcustom nav-link active\";\n  }; //  action cho danh sách người dùng\n\n\n  const main_content = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        'height': 'auto',\n        'marginBottom': '25px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        history: history,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-2 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"nav nav-pills flex-column\",\n                id: \"myTab\",\n                role: \"tablist\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"user\",\n                    name: \"user\",\n                    className: \"linkcustom nav-link\" // id=\"home-tab\"\n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/users\",\n                    role: \"tab\",\n                    \"aria-controls\": \"home\",\n                    \"aria-selected\": \"true\",\n                    children: \"Users\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"class\",\n                    name: \"class\",\n                    className: \"linkcustom nav-link\" // id=\"profile-tab\" \n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/classes\",\n                    role: \"tab\",\n                    \"aria-controls\": \"profile\",\n                    \"aria-selected\": \"false\",\n                    children: \"Classes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"users_roles\",\n                    name: \"users_roles\",\n                    className: \"linkcustom nav-link\" // id=\"profile-tab\"\n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/users-roles\",\n                    role: \"tab\",\n                    \"aria-controls\": \"profile\",\n                    \"aria-selected\": \"false\",\n                    children: \"Qu\\u1EA3n l\\xFD ph\\xE2n quy\\u1EC1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"roles_resources\",\n                    name: \"roles_resources\",\n                    className: \"linkcustom nav-link\" // id=\"profile-tab\" \n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/roles-resources\",\n                    role: \"tab\",\n                    \"aria-controls\": \"profile\",\n                    \"aria-selected\": \"false\",\n                    children: \"Qu\\u1EA3n l\\xFD vai tr\\xF2 - t\\xE0i nguy\\xEAn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"roles\",\n                    name: \"roles\",\n                    className: \"linkcustom nav-link\" // id=\"profile-tab\"\n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/roles\",\n                    role: \"tab\",\n                    \"aria-controls\": \"profile\",\n                    \"aria-selected\": \"false\",\n                    children: \"Qu\\u1EA3n l\\xFD vai tr\\xF2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"nav-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    onClick: handleActive,\n                    id: \"resources\",\n                    name: \"resources\",\n                    className: \"linkcustom nav-link\" // id=\"profile-tab\"\n                    ,\n                    \"data-toggle\": \"tab\",\n                    to: \"/admin/resources\",\n                    role: \"tab\",\n                    \"aria-controls\": \"profile\",\n                    \"aria-selected\": \"false\",\n                    children: \"Qu\\u1EA3n l\\xFD t\\xE0i nguy\\xEAn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-10\",\n              children: /*#__PURE__*/_jsxDEV(Switch, {\n                children: [/*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin\",\n                  component: XinChaoAdmin\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/users\",\n                  component: DanhSachNguoiDung,\n                  children: /*#__PURE__*/_jsxDEV(DanhSachNguoiDung, {\n                    users: users,\n                    paginationInfo: paginationInfo,\n                    handleClick: handleClick,\n                    handleEdit: handleEdit,\n                    handleDelete: handleDelete,\n                    handlePageChange: handlePageChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/import-users-using-file\",\n                  component: ImportUsersForm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/add-user\",\n                  component: ThemNguoiDung\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/edit-user\",\n                  component: ChinhSuaNguoiDung\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/classes\",\n                  component: Index\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/users-roles\",\n                  component: PhanQuyen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/roles\",\n                  component: VaiTro\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/resources\",\n                  component: TaiNguyen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: \"/admin/roles-resources\",\n                  component: VaiTroTaiNguyen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Route, {\n                  exact: true,\n                  path: path,\n                  component: component\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this);\n  };\n\n  const admin_page = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }, this), main_content(), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 13\n    }, this);\n  };\n\n  return admin_page();\n}\n\n_s(AdminOnly, \"TKpxtvXIFTCBeqT6X91yph8wp3k=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminOnly;\nexport default AdminOnly;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminOnly\");","map":{"version":3,"sources":["C:/Projects_User/lucky/full_project/frontend/src/components/page/Admin/AdminOnly.js"],"names":["React","BrowserRouter","Router","Link","Route","Switch","useHistory","DanhSachLopHoc","DanhSachNguoiDung","ThemNguoiDung","ChinhSuaNguoiDung","Header","Footer","axios","XinChaoAdmin","PhanQuyen","VaiTro","TaiNguyen","VaiTroTaiNguyen","createBrowserHistory","ImportUsersForm","Index","history","allClasses","result","get","err","console","log","buttonStyle","border","cursor","background","color","textDecoration","CryptoJS","require","config","CryptoJSAesJson","value","password","AES","encrypt","JSON","stringify","format","toString","jsonStr","parse","decrypt","enc","Utf8","cipherParams","j","ct","ciphertext","Base64","iv","salt","s","replace","lib","CipherParams","create","Hex","key","process","env","REACT_APP_KeyAdminOnly","mahoadulieu_postform","giaimadulieu","AdminOnly","props","path","component","users","setUsers","useState","paginationInfo","setPaginationInfo","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","condition","setCondition","type","isMountedVal","useRef","get_all_users","then","res","data","filterUsers","filter","item","current_page","per_page","total","name","malop","catch","updateState","callback","current","useEffect","handleClick","e","preventDefault","push","pathname","state","target","handleEdit","valueString","handleDelete","data_encode","url","method","headers","mauser","handlePageChange","pageNumber","handleActive","event","main_content","admin_page"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { BrowserRouter as Router, Link, Route, Switch, useHistory } from 'react-router-dom'\r\nimport DanhSachLopHoc from './LopHoc/DanhSachLopHoc'\r\nimport DanhSachNguoiDung from './Users/DanhSachNguoiDung_1'\r\nimport ThemNguoiDung from './Users/ThemNguoiDung'\r\nimport ChinhSuaNguoiDung from './Users/ChinhSuaNguoiDung';\r\n\r\n\r\nimport Header from '../../basic_components/Header';\r\nimport Footer from '../../basic_components/Footer';\r\nimport axios from 'axios'\r\nimport XinChaoAdmin from './Users/XinChaoAdmin'\r\n\r\nimport PhanQuyen from './PhanQuyen/index';\r\nimport VaiTro from './QuanLyVaiTro/index';\r\nimport TaiNguyen from './QuanLyTaiNguyen'\r\nimport VaiTroTaiNguyen from './VaiTroTaiNguyen'\r\n\r\nimport { createBrowserHistory } from 'history';\r\nimport ImportUsersForm from '../../import_users/ImportUsersForm'\r\nimport Index from './LopHoc/index'\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport const allClasses = async () => {\r\n    try {\r\n        const result = await axios.get('/api/get-all-classes');\r\n        // return result.data;\r\n        return result;\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nexport const buttonStyle = {\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    background: 'none',\r\n    color: 'green',\r\n    textDecoration: 'underline',\r\n}\r\n\r\nexport const CryptoJS = require(\"crypto-js\");\r\nrequire('dotenv').config()\r\n\r\nexport const CryptoJSAesJson = {\r\n    /**\r\n     * Encrypt any value\r\n     * @param {*} value\r\n     * @param {string} password\r\n     * @return {string}\r\n     */\r\n    'encrypt': function (value, password) {\r\n        return CryptoJS.AES.encrypt(JSON.stringify(value), password, { format: CryptoJSAesJson }).toString()\r\n    },\r\n    /**\r\n     * Decrypt a previously encrypted value\r\n     * @param {string} jsonStr\r\n     * @param {string} password\r\n     * @return {*}\r\n     */\r\n    'decrypt': function (jsonStr, password) {\r\n        return JSON.parse(CryptoJS.AES.decrypt(jsonStr, password, { format: CryptoJSAesJson }).toString(CryptoJS.enc.Utf8))\r\n    },\r\n    /**\r\n     * Stringify cryptojs data\r\n     * @param {Object} cipherParams\r\n     * @return {string}\r\n     */\r\n    'stringify': function (cipherParams) {\r\n        var j = { ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64) }\r\n        if (cipherParams.iv) j.iv = cipherParams.iv.toString()\r\n        if (cipherParams.salt) j.s = cipherParams.salt.toString()\r\n        return JSON.stringify(j).replace(/\\s/g, '')\r\n    },\r\n    /**\r\n     * Parse cryptojs data\r\n     * @param {string} jsonStr\r\n     * @return {*}\r\n     */\r\n    'parse': function (jsonStr) {\r\n        var j = JSON.parse(jsonStr)\r\n        var cipherParams = CryptoJS.lib.CipherParams.create({ ciphertext: CryptoJS.enc.Base64.parse(j.ct) })\r\n        if (j.iv) cipherParams.iv = CryptoJS.enc.Hex.parse(j.iv)\r\n        if (j.s) cipherParams.salt = CryptoJS.enc.Hex.parse(j.s)\r\n        return cipherParams\r\n    }\r\n}\r\nexport const key = process.env.REACT_APP_KeyAdminOnly;\r\n\r\nexport const mahoadulieu_postform = (value) => {\r\n    return CryptoJSAesJson.encrypt(value, key)\r\n}\r\n\r\nexport const giaimadulieu = (value) => {\r\n    return CryptoJSAesJson.decrypt(value, key);\r\n}\r\n\r\nfunction AdminOnly(props) {\r\n    const { path, component } = props\r\n    // const [allClasses, setAllClasses] = React.useState([]);\r\n    // const [users_roles, setUsersRoles] = React.useState([]);\r\n    const [users, setUsers] = React.useState([]);\r\n    const [paginationInfo, setPaginationInfo] = React.useState({\r\n        activePage: 1,\r\n        itemsCountPerPage: 1,\r\n        totalItemsCount: 1,\r\n        pageRangeDisplayed: 3,\r\n    })\r\n\r\n    const history = useHistory();\r\n\r\n    const [condition, setCondition] = React.useState({\r\n        type: \"\",\r\n        value: \"\",\r\n    });\r\n\r\n    const isMountedVal = React.useRef(1);\r\n\r\n    // Lấy thông tin từ bảng users_roles\r\n    // const get_roles_users = async () => {\r\n    //     const result = await axios.get('/api/get-all-users-roles');\r\n    //     if(result.data.status === true) {\r\n    //         setUsersRoles([...result.data.data]);\r\n    //     }\r\n    // }\r\n\r\n    const get_all_users = () => {\r\n        axios.get('/api/get-all-users').then(res => {\r\n            const users = res.data.users.data;\r\n            const filterUsers = users.filter((item) => {\r\n                if (condition.type === \"\") {\r\n                    setPaginationInfo({\r\n                        ...paginationInfo,\r\n                        activePage: res.data.users.current_page,\r\n                        itemsCountPerPage: res.data.users.per_page,\r\n                        totalItemsCount: res.data.users.total\r\n                    })\r\n                    return item.name !== \"\";\r\n                }\r\n                else {\r\n                    if (condition.type === \"followClass\") {\r\n                        return item.malop === condition.value;\r\n                    }\r\n                }\r\n            })\r\n            setUsers([...filterUsers]);\r\n\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const updateState = (callback) => {\r\n        if (isMountedVal.current === 1) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        // updateState(get_roles_users);\r\n        updateState(get_all_users);\r\n\r\n        isMountedVal.current = 0;\r\n\r\n        return () => {\r\n            isMountedVal.current = 0;\r\n        }\r\n    }, [isMountedVal])\r\n\r\n    // action for danh sách người dùng\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        history.push({\r\n            pathname: '/admin/classes',\r\n            state: e.target.value\r\n        });\r\n    }\r\n\r\n    const handleEdit = (e) => {\r\n        e.preventDefault();\r\n        const valueString = e.target.value;\r\n        // const valueObject = JSON.parse(valueString);\r\n        history.push({\r\n            pathname: '/admin/edit-user',\r\n            state: valueString\r\n        });\r\n\r\n    }\r\n\r\n    const handleDelete = (e) => {\r\n        e.preventDefault();\r\n        const data_encode = mahoadulieu_postform(e.target.value)\r\n        axios({\r\n            url: '/api/delete-user',\r\n            method: 'post',\r\n            headers: { 'X-Requested-With': 'XMLHttpRequest' },\r\n            data: {\r\n                mauser: data_encode\r\n            }\r\n        }).then(res => console.log(res)).catch(err => console.log(err))\r\n\r\n        // axios.post('/api/delete-user', data).then(res => {\r\n        //     console.log(res)\r\n        //     // if(res.data.status === true)\r\n        //     // {\r\n        //     //     alert(res.data.message)\r\n        //     // }\r\n        //     // else\r\n        //     // {\r\n        //     //     alert(res.data.message)\r\n        //     // }\r\n        // }).catch(err => {\r\n        //     console.log(err)\r\n        // })\r\n    }\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n\r\n        axios.get('/api/get-all-users?page=' + pageNumber).then(res => {\r\n            const users = res.data.users.data;\r\n            // setUsers((old_arr_users) => [...old_arr_users, ...users]);\r\n            setUsers([...users]);\r\n            setPaginationInfo({\r\n                ...paginationInfo,\r\n                activePage: res.data.users.current_page,\r\n                itemsCountPerPage: res.data.users.per_page,\r\n                totalItemsCount: res.data.users.total\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleActive = (event) => {\r\n        console.log(event.target.name)\r\n        // event.preventDefault();\r\n        // let nameClicked = event.target.name;\r\n        // let idClicked = document.getElementById(nameClicked);\r\n        // // clear all class\r\n        // let classCLicked = document.getElementsByClassName(\"linkcustom\");\r\n        // for(let i = 0; i < classCLicked.length; i++)\r\n        // {\r\n        //     classCLicked[i].className = \"linkcustom nav-link\";\r\n        // }\r\n\r\n        // idClicked.className = \"linkcustom nav-link active\";\r\n    }\r\n    //  action cho danh sách người dùng\r\n\r\n    const main_content = () => {\r\n        return (\r\n            <div className=\"container-fluid\" style={{ 'height': 'auto', 'marginBottom': '25px' }}>\r\n                <hr />\r\n                <Router history={history}>\r\n                    <div >\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-2 mb-3\">\r\n                                <ul className=\"nav nav-pills flex-column\" id=\"myTab\" role=\"tablist\">\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"user\" name=\"user\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"home-tab\"\r\n                                            data-toggle=\"tab\" to=\"/admin/users\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Users</Link>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"class\" name=\"class\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"profile-tab\" \r\n                                            data-toggle=\"tab\" to=\"/admin/classes\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Classes</Link>\r\n                                    </li>\r\n\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"users_roles\" name=\"users_roles\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"profile-tab\"\r\n                                            data-toggle=\"tab\" to=\"/admin/users-roles\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Quản lý phân quyền</Link>\r\n                                    </li>\r\n\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"roles_resources\" name=\"roles_resources\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"profile-tab\" \r\n                                            data-toggle=\"tab\" to=\"/admin/roles-resources\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Quản lý vai trò - tài nguyên</Link>\r\n                                    </li>\r\n\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"roles\" name=\"roles\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"profile-tab\"\r\n                                            data-toggle=\"tab\" to=\"/admin/roles\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Quản lý vai trò</Link>\r\n                                    </li>\r\n\r\n                                    <li className=\"nav-item\">\r\n                                        <Link onClick={handleActive} id=\"resources\" name=\"resources\" className={\"linkcustom nav-link\"}\r\n                                            // id=\"profile-tab\"\r\n                                            data-toggle=\"tab\" to=\"/admin/resources\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Quản lý tài nguyên</Link>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                            <div className=\"col-md-10\">\r\n                                <Switch>\r\n                                    <Route exact path=\"/admin\" component={XinChaoAdmin} />\r\n                                    <Route exact path=\"/admin/users\" component={DanhSachNguoiDung}>\r\n                                        <DanhSachNguoiDung users={users} paginationInfo={paginationInfo} handleClick={handleClick} handleEdit={handleEdit}\r\n                                            handleDelete={handleDelete} handlePageChange={handlePageChange} />\r\n                                    </Route>\r\n                                    <Route exact path=\"/admin/import-users-using-file\" component={ImportUsersForm} />\r\n\r\n                                    {/* <Route exact path=\"/admin/classes\" component={DanhSachLopHoc} /> */}\r\n                                    <Route exact path=\"/admin/add-user\" component={ThemNguoiDung} />\r\n                                    <Route exact path=\"/admin/edit-user\" component={ChinhSuaNguoiDung}/>\r\n                                    <Route exact path=\"/admin/classes\" component={Index} />\r\n\r\n\r\n                                    <Route exact path=\"/admin/users-roles\" component={PhanQuyen} />\r\n                                    <Route exact path=\"/admin/roles\" component={VaiTro} />\r\n                                    <Route exact path=\"/admin/resources\" component={TaiNguyen} />\r\n                                    <Route exact path=\"/admin/roles-resources\" component={VaiTroTaiNguyen} />\r\n                                    <Route exact path={path} component={component} />\r\n\r\n                                </Switch>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Router>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    const admin_page = () => {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <Header />\r\n                {main_content()}\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        admin_page()\r\n    )\r\n}\r\n\r\nexport default AdminOnly\r\n"]},"metadata":{},"sourceType":"module"}