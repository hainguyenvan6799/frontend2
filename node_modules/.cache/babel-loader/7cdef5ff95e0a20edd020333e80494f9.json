{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects_User\\\\lucky\\\\full_project\\\\frontend\\\\src\\\\components\\\\page\\\\Admin\\\\Users\\\\DanhSachNguoiDung_1.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { allClasses } from '../AdminOnly';\nimport Pagination from 'react-js-pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar CryptoJS = require(\"crypto-js\");\n\nrequire('dotenv').config();\n\nexport const buttonStyle = {\n  border: 'none',\n  cursor: 'pointer',\n  background: 'none',\n  color: 'green',\n  textDecoration: 'underline'\n};\nexport const CryptoJSAesJson = {\n  /**\r\n   * Encrypt any value\r\n   * @param {*} value\r\n   * @param {string} password\r\n   * @return {string}\r\n   */\n  'encrypt': function (value, password) {\n    return CryptoJS.AES.encrypt(JSON.stringify(value), password, {\n      format: CryptoJSAesJson\n    }).toString();\n  },\n\n  /**\r\n   * Decrypt a previously encrypted value\r\n   * @param {string} jsonStr\r\n   * @param {string} password\r\n   * @return {*}\r\n   */\n  'decrypt': function (jsonStr, password) {\n    return JSON.parse(CryptoJS.AES.decrypt(jsonStr, password, {\n      format: CryptoJSAesJson\n    }).toString(CryptoJS.enc.Utf8));\n  },\n\n  /**\r\n   * Stringify cryptojs data\r\n   * @param {Object} cipherParams\r\n   * @return {string}\r\n   */\n  'stringify': function (cipherParams) {\n    var j = {\n      ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64)\n    };\n    if (cipherParams.iv) j.iv = cipherParams.iv.toString();\n    if (cipherParams.salt) j.s = cipherParams.salt.toString();\n    return JSON.stringify(j).replace(/\\s/g, '');\n  },\n\n  /**\r\n   * Parse cryptojs data\r\n   * @param {string} jsonStr\r\n   * @return {*}\r\n   */\n  'parse': function (jsonStr) {\n    var j = JSON.parse(jsonStr);\n    var cipherParams = CryptoJS.lib.CipherParams.create({\n      ciphertext: CryptoJS.enc.Base64.parse(j.ct)\n    });\n    if (j.iv) cipherParams.iv = CryptoJS.enc.Hex.parse(j.iv);\n    if (j.s) cipherParams.salt = CryptoJS.enc.Hex.parse(j.s);\n    return cipherParams;\n  }\n};\nconst key = process.env.REACT_APP_KeyAdminOnly;\nexport const mahoadulieu_postform = value => {\n  return CryptoJSAesJson.encrypt(value, key);\n};\nexport const giaimadulieu = value => {\n  return CryptoJSAesJson.decrypt(value, key);\n};\n\nfunction DanhSachNguoiDung() {\n  _s();\n\n  const [users, setUsers] = React.useState([]);\n  const [optionClasses, setOptionClasses] = React.useState([]);\n  const [condition, setCondition] = React.useState({\n    type: \"\",\n    value: \"\"\n  });\n  const [paginationInfo, setPaginationInfo] = React.useState({\n    activePage: 1,\n    itemsCountPerPage: 1,\n    totalItemsCount: 1,\n    pageRangeDisplayed: 3\n  });\n  const isMountedVal = React.useRef(1);\n  const history = useHistory();\n\n  const get_all_users = () => {\n    axios.get('/api/get-all-users').then(res => {\n      const users = res.data.users.data;\n      const filterUsers = users.filter(item => {\n        if (condition.type === \"\") {\n          setPaginationInfo({ ...paginationInfo,\n            activePage: res.data.users.current_page,\n            itemsCountPerPage: res.data.users.per_page,\n            totalItemsCount: res.data.users.total\n          });\n          return item.name !== \"\";\n        } else {\n          if (condition.type === \"followClass\") {\n            return item.malop === condition.value;\n          }\n        }\n      });\n      setUsers([...filterUsers]);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const get_all_classes = () => {\n    allClasses().then(res => {\n      const newarr = res.data.classes.map(item => {\n        return {\n          value: item.malop,\n          label: item.tenlop\n        };\n      });\n      setOptionClasses(optionClasses => [...optionClasses, ...newarr]);\n    });\n  };\n\n  const updateState = callback => {\n    isMountedVal.current = 1;\n\n    if (isMountedVal.current === 1) {\n      callback();\n    }\n  };\n\n  React.useEffect(() => {\n    updateState(get_all_users);\n    return () => {\n      isMountedVal.current = 0;\n      setUsers([]);\n    };\n  }, [isMountedVal, condition.value]);\n  React.useEffect(() => {\n    updateState(get_all_classes);\n    return () => {\n      setOptionClasses([]);\n    };\n  }, [isMountedVal]);\n\n  const handleEdit = e => {\n    e.preventDefault();\n    const valueString = e.target.value; // const valueObject = JSON.parse(valueString);\n\n    history.push({\n      pathname: '/admin/edit-user',\n      state: valueString\n    });\n  };\n\n  const handleDelete = e => {\n    e.preventDefault();\n    const data_encode = mahoadulieu_postform(e.target.value);\n    axios({\n      url: '/api/delete-user',\n      method: 'post',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      data: {\n        mauser: data_encode\n      }\n    }).then(res => console.log(res)).catch(err => console.log(err));\n    axios.post('/api/delete-user', data_encode).then(res => {\n      if (res.data.status === true) {\n        const newData = users.filter(item => item.mauser !== e.target.value);\n        setUsers(newData);\n        alert(res.data.message);\n      } else {\n        alert(res.data.message);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleClick = e => {\n    e.preventDefault();\n    history.push({\n      pathname: '/admin/classes',\n      state: e.target.value\n    });\n  };\n\n  const handlePageChange = pageNumber => {\n    axios.get('/api/get-all-users?page=' + pageNumber).then(res => {\n      const users = res.data.users.data; // setUsers((old_arr_users) => [...old_arr_users, ...users]);\n\n      setUsers([...users]);\n      setPaginationInfo({ ...paginationInfo,\n        activePage: res.data.users.current_page,\n        itemsCountPerPage: res.data.users.per_page,\n        totalItemsCount: res.data.users.total\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleClickEditCondition = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    setCondition({\n      type: e.target.name,\n      value: e.target.value\n    });\n  };\n\n  const danh_sach_nguoi_dung = users => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light bg-light\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"navbar-toggler\",\n          type: \"button\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \"#navbarSupportedContent\",\n          \"aria-controls\": \"navbarSupportedContent\",\n          \"aria-expanded\": \"false\",\n          \"aria-label\": \"Toggle navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-toggler-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"collapse navbar-collapse\",\n          id: \"navbarSupportedContent\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item active\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"nav-link\",\n                href: \"#\",\n                children: [\"Trang ch\\u1EE7 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"(current)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"/admin/add-user\",\n                children: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                className: \"nav-link\",\n                to: \"/admin/import-users-using-file\",\n                children: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng b\\u1EB1ng file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE3 ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"T\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Gi\\u1EDBi t\\xEDnh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE3 l\\u1EDBp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE3 ph\\xF2ng chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"T\\xECnh tr\\u1EA1ng c\\u1EADp nh\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0110\\xE3 \\u0111\\u01B0\\u1EE3c k\\xEDch ho\\u1EA1t b\\u1EDFi ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map((item, key) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"row\",\n              children: item.mauser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.sex\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.sdt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.malop !== undefined ? /*#__PURE__*/_jsxDEV(\"button\", {\n                style: buttonStyle,\n                value: item.malop,\n                onClick: handleClick,\n                children: item.malop\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 65\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.room_chat_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.is_updated_info === \"1\" ? \"Đã cập nhật\" : \"Chưa cập nhật\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.active === true ? \"Đã kích hoạt\" : \"Chưa kích hoạt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                style: buttonStyle,\n                onClick: handleEdit,\n                value: JSON.stringify(item),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 37\n              }, this), \"/\", /*#__PURE__*/_jsxDEV(\"button\", {\n                style: buttonStyle,\n                value: item.mauser,\n                onClick: handleDelete,\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 33\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          activePage: paginationInfo.activePage,\n          itemsCountPerPage: paginationInfo.itemsCountPerPage,\n          totalItemsCount: paginationInfo.totalItemsCount,\n          pageRangeDisplayed: paginationInfo.pageRangeDisplayed,\n          onChange: handlePageChange,\n          itemClass: \"page-item\",\n          linkClass: \"page-link\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: danh_sach_nguoi_dung(users)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DanhSachNguoiDung, \"hGM+N09hqhqt+sjHz9+7dj4jOQ4=\", false, function () {\n  return [useHistory];\n});\n\n_c = DanhSachNguoiDung;\nexport default DanhSachNguoiDung;\n\nvar _c;\n\n$RefreshReg$(_c, \"DanhSachNguoiDung\");","map":{"version":3,"sources":["C:/Projects_User/lucky/full_project/frontend/src/components/page/Admin/Users/DanhSachNguoiDung_1.js"],"names":["axios","React","Link","useHistory","allClasses","Pagination","CryptoJS","require","config","buttonStyle","border","cursor","background","color","textDecoration","CryptoJSAesJson","value","password","AES","encrypt","JSON","stringify","format","toString","jsonStr","parse","decrypt","enc","Utf8","cipherParams","j","ct","ciphertext","Base64","iv","salt","s","replace","lib","CipherParams","create","Hex","key","process","env","REACT_APP_KeyAdminOnly","mahoadulieu_postform","giaimadulieu","DanhSachNguoiDung","users","setUsers","useState","optionClasses","setOptionClasses","condition","setCondition","type","paginationInfo","setPaginationInfo","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","isMountedVal","useRef","history","get_all_users","get","then","res","data","filterUsers","filter","item","current_page","per_page","total","name","malop","catch","err","console","log","get_all_classes","newarr","classes","map","label","tenlop","updateState","callback","current","useEffect","handleEdit","e","preventDefault","valueString","target","push","pathname","state","handleDelete","data_encode","url","method","headers","mauser","post","status","newData","alert","message","handleClick","handlePageChange","pageNumber","handleClickEditCondition","danh_sach_nguoi_dung","email","sex","sdt","undefined","room_chat_id","is_updated_info","active"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport { allClasses } from '../AdminOnly';\r\n\r\nimport Pagination from 'react-js-pagination';\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\nrequire('dotenv').config()\r\n\r\nexport const buttonStyle = {\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    background: 'none',\r\n    color: 'green',\r\n    textDecoration: 'underline',\r\n}\r\n\r\nexport const CryptoJSAesJson = {\r\n    /**\r\n     * Encrypt any value\r\n     * @param {*} value\r\n     * @param {string} password\r\n     * @return {string}\r\n     */\r\n    'encrypt': function (value, password) {\r\n        return CryptoJS.AES.encrypt(JSON.stringify(value), password, { format: CryptoJSAesJson }).toString()\r\n    },\r\n    /**\r\n     * Decrypt a previously encrypted value\r\n     * @param {string} jsonStr\r\n     * @param {string} password\r\n     * @return {*}\r\n     */\r\n    'decrypt': function (jsonStr, password) {\r\n        return JSON.parse(CryptoJS.AES.decrypt(jsonStr, password, { format: CryptoJSAesJson }).toString(CryptoJS.enc.Utf8))\r\n    },\r\n    /**\r\n     * Stringify cryptojs data\r\n     * @param {Object} cipherParams\r\n     * @return {string}\r\n     */\r\n    'stringify': function (cipherParams) {\r\n        var j = { ct: cipherParams.ciphertext.toString(CryptoJS.enc.Base64) }\r\n        if (cipherParams.iv) j.iv = cipherParams.iv.toString()\r\n        if (cipherParams.salt) j.s = cipherParams.salt.toString()\r\n        return JSON.stringify(j).replace(/\\s/g, '')\r\n    },\r\n    /**\r\n     * Parse cryptojs data\r\n     * @param {string} jsonStr\r\n     * @return {*}\r\n     */\r\n    'parse': function (jsonStr) {\r\n        var j = JSON.parse(jsonStr)\r\n        var cipherParams = CryptoJS.lib.CipherParams.create({ ciphertext: CryptoJS.enc.Base64.parse(j.ct) })\r\n        if (j.iv) cipherParams.iv = CryptoJS.enc.Hex.parse(j.iv)\r\n        if (j.s) cipherParams.salt = CryptoJS.enc.Hex.parse(j.s)\r\n        return cipherParams\r\n    }\r\n}\r\nconst key = process.env.REACT_APP_KeyAdminOnly;\r\n\r\nexport const mahoadulieu_postform = (value) => {\r\n    return CryptoJSAesJson.encrypt(value, key)\r\n}\r\n\r\nexport const giaimadulieu = (value) => {\r\n    return CryptoJSAesJson.decrypt(value, key);\r\n}\r\n\r\nfunction DanhSachNguoiDung() {\r\n    const [users, setUsers] = React.useState([]);\r\n    const [optionClasses, setOptionClasses] = React.useState([]);\r\n\r\n    const [condition, setCondition] = React.useState({\r\n        type: \"\",\r\n        value: \"\",\r\n    });\r\n\r\n    const [paginationInfo, setPaginationInfo] = React.useState({\r\n        activePage: 1,\r\n        itemsCountPerPage: 1,\r\n        totalItemsCount: 1,\r\n        pageRangeDisplayed: 3,\r\n    })\r\n    const isMountedVal = React.useRef(1);\r\n    const history = useHistory();\r\n\r\n    const get_all_users = () => {\r\n        axios.get('/api/get-all-users').then(res => {\r\n            const users = res.data.users.data;\r\n            const filterUsers = users.filter((item) => {\r\n                if (condition.type === \"\") {\r\n                    setPaginationInfo({\r\n                ...paginationInfo,\r\n                activePage: res.data.users.current_page,\r\n                itemsCountPerPage: res.data.users.per_page,\r\n                totalItemsCount: res.data.users.total\r\n            })\r\n                    return item.name !== \"\";\r\n                }\r\n                else {\r\n                    if (condition.type === \"followClass\") {\r\n                        return item.malop === condition.value;\r\n                    }\r\n                }\r\n            })\r\n            setUsers([...filterUsers]);\r\n            \r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const get_all_classes = () => {\r\n        allClasses().then(res => {\r\n            const newarr = res.data.classes.map(item => {\r\n                return {\r\n                    value: item.malop,\r\n                    label: item.tenlop,\r\n                }\r\n            })\r\n            setOptionClasses((optionClasses) => [...optionClasses, ...newarr]);\r\n        })\r\n    }\r\n\r\n    const updateState = (callback) => {\r\n        isMountedVal.current = 1;\r\n        if (isMountedVal.current === 1) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        updateState(get_all_users);\r\n\r\n        return () => {\r\n            isMountedVal.current = 0;\r\n            setUsers([]);\r\n        }\r\n    }, [isMountedVal, condition.value]);\r\n\r\n    React.useEffect(() => {\r\n        updateState(get_all_classes);\r\n        return () => {\r\n            setOptionClasses([]);\r\n        }\r\n    }, [isMountedVal])\r\n\r\n    const handleEdit = (e) => {\r\n        e.preventDefault();\r\n        const valueString = e.target.value;\r\n        // const valueObject = JSON.parse(valueString);\r\n        history.push({\r\n            pathname: '/admin/edit-user',\r\n            state: valueString\r\n        });\r\n\r\n    }\r\n\r\n    const handleDelete = (e) => {\r\n        e.preventDefault();\r\n        const data_encode = mahoadulieu_postform(e.target.value)\r\n        axios({\r\n            url: '/api/delete-user',\r\n            method: 'post',\r\n            headers: { 'X-Requested-With': 'XMLHttpRequest' },\r\n            data: {\r\n                mauser: data_encode\r\n            }\r\n        }).then(res => console.log(res)).catch(err => console.log(err))\r\n\r\n        axios.post('/api/delete-user', data_encode).then(res => {\r\n            if(res.data.status === true)\r\n            {\r\n                const newData = users.filter(item => item.mauser !== e.target.value);\r\n                setUsers(newData);\r\n                alert(res.data.message)\r\n            }\r\n            else\r\n            {\r\n                alert(res.data.message)\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        history.push({\r\n            pathname: '/admin/classes',\r\n            state: e.target.value\r\n        });\r\n    }\r\n\r\n    const handlePageChange = (pageNumber) => {\r\n\r\n        axios.get('/api/get-all-users?page=' + pageNumber).then(res => {\r\n            const users = res.data.users.data;\r\n            // setUsers((old_arr_users) => [...old_arr_users, ...users]);\r\n            setUsers([...users]);\r\n            setPaginationInfo({\r\n                ...paginationInfo,\r\n                activePage: res.data.users.current_page,\r\n                itemsCountPerPage: res.data.users.per_page,\r\n                totalItemsCount: res.data.users.total\r\n            })\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleClickEditCondition = (e) => {\r\n        e.preventDefault();\r\n        console.log(e.target.value)\r\n        setCondition({\r\n            type: e.target.name,\r\n            value: e.target.value,\r\n        })\r\n    }\r\n\r\n    const danh_sach_nguoi_dung = (users) => {\r\n        return (\r\n            <div>\r\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                        <ul className=\"navbar-nav mr-auto\">\r\n                            <li className=\"nav-item active\">\r\n                                <a className=\"nav-link\" href=\"#\">Trang chủ <span className=\"sr-only\">(current)</span></a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to='/admin/add-user'>Thêm người dùng</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to='/admin/import-users-using-file'>Thêm người dùng bằng file</Link>\r\n                            </li>\r\n                            {/* <li className=\"nav-item dropdown\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    Phân loại theo lớp\r\n                                </a>\r\n                                <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                    {optionClasses.map((item, key) => {\r\n                                        return <button name=\"followClass\" onClick={handleClickEditCondition} className=\"dropdown-item\" value={item.value}>{item.label}</button>\r\n                                    })}\r\n                                    <a className=\"dropdown-item\" href=\"#\">Action</a>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n                                    <div className=\"dropdown-divider\"></div>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Something else here</a>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li className=\"nav-item dropdown\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                                    Phân loại theo nhóm người dùng\r\n        </a>\r\n                                <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                                    <a className=\"dropdown-item\" href=\"#\">Action</a>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n                                    <div className=\"dropdown-divider\"></div>\r\n                                    <a className=\"dropdown-item\" href=\"#\">Something else here</a>\r\n                                </div>\r\n                            </li> */}\r\n\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n\r\n                <table className=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Mã người dùng</th>\r\n                            <th>Tên</th>\r\n                            <th>Email</th>\r\n                            <th>Giới tính</th>\r\n                            <th>Số điện thoại</th>\r\n                            <th>Mã lớp</th>\r\n                            <th>Mã phòng chat</th>\r\n                            <th>Tình trạng cập nhật</th>\r\n                            <th>Đã được kích hoạt bởi người dùng</th>\r\n                            <th>Hành động</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map((item, key) => (\r\n                            <tr key={key}>\r\n                                <th scope=\"row\">{item.mauser}</th>\r\n                                <td>{item.name}</td>\r\n                                <td>{item.email}</td>\r\n                                <td>{item.sex}</td>\r\n                                <td>{item.sdt}</td>\r\n                                <td>{item.malop !== undefined ? <button style={buttonStyle} value={item.malop} onClick={handleClick}>{item.malop}</button> : null}</td>\r\n                                <td>{item.room_chat_id}</td>\r\n                                <td>{item.is_updated_info === \"1\" ? \"Đã cập nhật\" : \"Chưa cập nhật\"}</td>\r\n                                <td>{item.active === true ? \"Đã kích hoạt\" : \"Chưa kích hoạt\"}</td>\r\n                                <td>\r\n                                    {/* <button value={item.mauser} onClick={handleEdit}>Edit</button> */}\r\n                                    {/* <Link to={`/admin/edit-user/${item.email}`}>Edit</Link> */}\r\n                                    <button style={buttonStyle} onClick={handleEdit} value={JSON.stringify(item)}>Edit</button>/\r\n                                    <button style={buttonStyle} value={item.mauser} onClick={handleDelete}>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n\r\n\r\n                    </tbody>\r\n                </table>\r\n                <div className='d-flex justify-content-center'>\r\n                    <Pagination\r\n                        activePage={paginationInfo.activePage}\r\n                        itemsCountPerPage={paginationInfo.itemsCountPerPage}\r\n                        totalItemsCount={paginationInfo.totalItemsCount}\r\n                        pageRangeDisplayed={paginationInfo.pageRangeDisplayed}\r\n                        onChange={handlePageChange}\r\n                        itemClass='page-item'\r\n                        linkClass='page-link'\r\n                    />\r\n                </div>\r\n            </div>\r\n        \r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {danh_sach_nguoi_dung(users)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DanhSachNguoiDung\r\n"]},"metadata":{},"sourceType":"module"}