{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects_User\\\\lucky\\\\full_project\\\\frontend\\\\src\\\\components\\\\page\\\\User\\\\DienDan\\\\ThemDienDan.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // import addictional libraries\n\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { mahoadulieu_postform } from \"../../security\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ThemDienDan(props) {\n  _s();\n\n  const {\n    userlogin\n  } = props;\n  console.log(userlogin);\n  const [files, setFiles] = React.useState([]);\n  const [mota, setMota] = React.useState(\"\");\n  const [noidung, setNoiDung] = React.useState(\"\");\n\n  const onChangeFile = e => {\n    setFiles(e.target.files);\n  }; // const renderFiles = (files) => {\n  //     return files.map(file => {\n  //         return <img className=\"p-2\" src={file} style={{width: \"20%\", height: \"180px\"}}/>\n  //     })\n  // }\n  // const onSubmit = async (values) => {\n  //     const { mota, noidung } = values;\n  //     const formdata = new FormData();\n  //     formdata.append('mota', mota)\n  //     formdata.append('noidung', noidung);\n  //     formdata.append('mauser', mahoadulieu_postform(props.location.state.userlogin.mauser));\n  //     formdata.append('resource_id', mahoadulieu_postform(`chude_${props.location.state.userlogin.malop}`))\n  //     // const can_add = props.location.state.accessRights.allowAdd;\n  //     // can_add === true ? formdata.append('active', true) : formdata.append('active', false);\n  //     props.handleCreate(formdata);\n  // }\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (mota === \"\" || noidung === \"\") {\n      alert(\"Mô tả hoặc nội dung không được để trống.\");\n    } else {\n      const formdata = new FormData();\n      formdata.append('mota', mota);\n      formdata.append('noidung', noidung);\n      formdata.append('mauser', mahoadulieu_postform(userlogin.mauser));\n      formdata.append('resource_id', mahoadulieu_postform(`chude_${userlogin.malop}`)); // if(files.length > 0)\n      // {\n      //     for (let i = 0; i < files.length; i++) {\n      //         formdata.append('files[' + i + ']', files[i]);\n      //     }\n      // }\n\n      let active = null;\n\n      if (userlogin.group === \"gv\") {\n        active = true;\n      } else {\n        active = false;\n      }\n\n      formdata.append('active', active);\n      props.handleCreate(formdata, active);\n    }\n  };\n\n  const form_them_diendan = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      style: {\n        marginTop: \"140px\"\n      },\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mota\",\n          className: \"col-sm-2 col-form-label\",\n          children: \"M\\xF4 t\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"mota\",\n            id: \"mota\",\n            className: \"form-control\",\n            onChange: e => setMota(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"noidung\",\n          className: \"col-sm-2 col-form-label\",\n          children: \"N\\u1ED9i dung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-10\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"noidung\",\n            id: \"noidung\",\n            className: \"form-control\",\n            onChange: e => setNoiDung(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block mt-3\",\n        children: \"Th\\xEAm ch\\u1EE7 \\u0111\\u1EC1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  };\n\n  return props.accessRights.allowAdd === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: form_them_diendan()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n    children: \"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n th\\xEAm di\\u1EC5n \\u0111\\xE0n.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ThemDienDan, \"vPhHcbtjuxTa4pwLNHMWzEdduZk=\");\n\n_c = ThemDienDan;\nexport default ThemDienDan;\n\nvar _c;\n\n$RefreshReg$(_c, \"ThemDienDan\");","map":{"version":3,"sources":["C:/Projects_User/lucky/full_project/frontend/src/components/page/User/DienDan/ThemDienDan.js"],"names":["React","useFormik","Yup","mahoadulieu_postform","ThemDienDan","props","userlogin","console","log","files","setFiles","useState","mota","setMota","noidung","setNoiDung","onChangeFile","e","target","handleSubmit","preventDefault","alert","formdata","FormData","append","mauser","malop","active","group","handleCreate","form_them_diendan","marginTop","value","accessRights","allowAdd"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\n// import addictional libraries\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { mahoadulieu_postform } from \"../../security\";\r\n\r\nfunction ThemDienDan(props) {\r\n  const { userlogin } = props;\r\n  console.log(userlogin);\r\n  const [files, setFiles] = React.useState([]);\r\n  const [mota, setMota] = React.useState(\"\");\r\n  const [noidung, setNoiDung] = React.useState(\"\");\r\n\r\n  const onChangeFile = (e) => {\r\n    setFiles(e.target.files);\r\n  };\r\n\r\n  // const renderFiles = (files) => {\r\n  //     return files.map(file => {\r\n  //         return <img className=\"p-2\" src={file} style={{width: \"20%\", height: \"180px\"}}/>\r\n  //     })\r\n  // }\r\n\r\n  // const onSubmit = async (values) => {\r\n  //     const { mota, noidung } = values;\r\n\r\n  //     const formdata = new FormData();\r\n  //     formdata.append('mota', mota)\r\n  //     formdata.append('noidung', noidung);\r\n  //     formdata.append('mauser', mahoadulieu_postform(props.location.state.userlogin.mauser));\r\n  //     formdata.append('resource_id', mahoadulieu_postform(`chude_${props.location.state.userlogin.malop}`))\r\n  //     // const can_add = props.location.state.accessRights.allowAdd;\r\n  //     // can_add === true ? formdata.append('active', true) : formdata.append('active', false);\r\n  //     props.handleCreate(formdata);\r\n  // }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(mota === \"\" || noidung === \"\") {\r\n      alert(\"Mô tả hoặc nội dung không được để trống.\"); \r\n    }\r\n    else {\r\n      const formdata = new FormData();\r\n      formdata.append('mota', mota)\r\n      formdata.append('noidung', noidung);\r\n      formdata.append('mauser', mahoadulieu_postform(userlogin.mauser));\r\n      formdata.append('resource_id', mahoadulieu_postform(`chude_${userlogin.malop}`))\r\n      // if(files.length > 0)\r\n      // {\r\n      //     for (let i = 0; i < files.length; i++) {\r\n      //         formdata.append('files[' + i + ']', files[i]);\r\n      //     }\r\n      // }\r\n\r\n\r\n      let active = null;\r\n      if(userlogin.group === \"gv\")\r\n      {\r\n          active = true;\r\n      }\r\n      else\r\n      {\r\n          active = false;\r\n      }\r\n      formdata.append('active', active);\r\n\r\n      props.handleCreate(formdata, active);\r\n    }\r\n    \r\n  };\r\n\r\n  const form_them_diendan = () => {\r\n    return (\r\n      <form style={{ marginTop: \"140px\" }} onSubmit={(e) => handleSubmit(e)}>\r\n        <div className=\"form-group row\">\r\n          <label htmlFor=\"mota\" className=\"col-sm-2 col-form-label\">\r\n            Mô tả\r\n          </label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"mota\"\r\n              id=\"mota\"\r\n              className=\"form-control\"\r\n              onChange={(e) => setMota(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label htmlFor=\"noidung\" className=\"col-sm-2 col-form-label\">\r\n            Nội dung\r\n          </label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"noidung\"\r\n              id=\"noidung\"\r\n              className=\"form-control\"\r\n              onChange={(e) => setNoiDung(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* <div className=\"form-group row\">\r\n          <label htmlFor=\"file\" className=\"col-sm-2 col-form-label\">\r\n            Chọn file\r\n          </label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file\"\r\n              onChange={onChangeFile}\r\n              multiple\r\n            />\r\n            <div className=\"result\">{renderFiles(files)}</div>\r\n          </div>\r\n        </div> */}\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary btn-block mt-3\">\r\n          Thêm chủ đề\r\n        </button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return props.accessRights.allowAdd === true ? (\r\n    <div className=\"container\">{form_them_diendan()}</div>\r\n  ) : (\r\n    <h5>Bạn không có quyền thêm diễn đàn.</h5>\r\n  );\r\n}\r\n\r\nexport default ThemDienDan;\r\n"]},"metadata":{},"sourceType":"module"}